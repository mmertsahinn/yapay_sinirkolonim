# ğŸŒªï¸ KAOTÄ°K EVRÄ°MSEL LoRA SÄ°STEMÄ° - KONFIGURASYON
# ================================================

# POPULASYON PARAMETRELERÄ° (ğŸŒŠ AKIÅKAN EVREN!)
population:
  min_population: 0            # YOK! Soy tÃ¼kenebilir! (Manuel diriltme: --resurrect)
  max_population: null         # YOK! DoÄŸa kendi dengesini kuracak!
  start_population: 250        # ğŸŒŠ BÃœYÃœK BAÅLANGIÃ‡! (Maksimum Ã§eÅŸitlilik!)
  natural_equilibrium: null    # DoÄŸal denge kendini bulacak (tahmini: 150-400 arasÄ±)

# Ã–LÃœM KURALLARI - KOLONÄ° MANTIÄI! (NEREDEYSE YOK!)
death:
  fitness_window: 150          # Son kaÃ§ maÃ§a bakÄ±lacak (Ã§ok uzun hafÄ±za)
  threshold: 0.01              # %1 altÄ±nda ise Ã¶lÃ¼m riski (NEREDEYSE Ä°MKANSIZ!)
  lucky_survival_chance: 0.80  # %80 ÅŸanslÄ± kurtuluÅŸ (Ã§ok Ã§ok yÃ¼ksek!)
  # NOT: Ã–lÃ¼m neredeyse yok! LoRA'lar ya hibernation'a girer ya da sonsuza kadar yaÅŸar!

# ÃœREME KURALLARI
reproduction:
  fitness_threshold: 0.60      # Bu Ã¼stÃ¼ndeyse Ã§iftleÅŸme ÅŸansÄ± var
  chance_per_match: 0.06       # Her maÃ§ %6 Ã§iftleÅŸme ÅŸansÄ±
  
  # Ã‡Ä°FTLEÅME EÅ SEÃ‡Ä°MÄ° (ToplamÄ± 1.0 olmalÄ±)
  partner_selection:
    random: 0.30               # %30 tamamen rastgele (KAOS)
    strongest: 0.30            # %30 en gÃ¼Ã§lÃ¼ (klasik evrim)
    weakest: 0.20              # %20 en zayÄ±f (sÃ¼rpriz potansiyeli)
    complementary: 0.20        # %20 tamamlayÄ±cÄ± (farklÄ± uzman)

# GÃœRÃœLTÃœ (KAOS) PARAMETRELERÄ°
noise:
  # Crossover (Ã§iftleÅŸme) gÃ¼rÃ¼ltÃ¼sÃ¼
  crossover:
    base_noise_max: 0.3        # Her parametrede 0-0.3 arasÄ± rastgele
    mega_noise_chance: 0.10    # %10 MEGA gÃ¼rÃ¼ltÃ¼ (bÃ¼yÃ¼k deÄŸiÅŸim)
  
  # Mutasyon
  mutation:
    param_mutation_chance: 0.15    # %15 her parametre mutasyona uÄŸrayabilir
    shock_mutation_chance: 0.05    # %5 ÅŸok mutasyon (tamamen yeni deÄŸer)
  
  # Spontane doÄŸum (hiÃ§likten LoRA doÄŸar!)
  spontaneous_birth:
    chance_per_match: 0.04     # Her maÃ§ %4 alien LoRA ÅŸansÄ±

# LoRA MÄ°MARÄ°SÄ°
lora:
  input_dim: 78                # 60 base + 15 historical + 3 base_proba = 78
  hidden_dim: 128              # Gizli katman boyutu
  rank: 16                     # LoRA rank (yÃ¼ksek = gÃ¼Ã§lÃ¼)
  alpha: 16.0                  # LoRA alpha (yÃ¼ksek = agresif Ã¶ÄŸrenme)
  dropout: 0.1                 # Regularization

# ONLINE Ã–ÄRENME
learning:
  learning_rate: 0.0001        # Adam optimizer LR
  buffer_batch_size: 16        # Her update'te kaÃ§ buffer Ã¶rneÄŸi
  update_frequency: 1          # KaÃ§ maÃ§ta bir gÃ¼ncelle (1 = her maÃ§)

# REPLAY BUFFER
buffer:
  max_size: 1000               # Maximum Ã¶rnek sayÄ±sÄ±
  importance_weights:
    loss: 0.3                  # Loss katkÄ±sÄ±
    surprise: 0.3              # SÃ¼rpriz katkÄ±sÄ±
    goal_diff: 0.2             # Gol farkÄ± katkÄ±sÄ±
    hype: 0.2                  # Hype katkÄ±sÄ±

# META-LoRA
meta_lora:
  enabled: true                # Meta-LoRA kullan mÄ±? (false = SimpleMetaLoRA)
  attention_dim: 16            # Attention vektÃ¶r boyutu
  hidden_dim: 64               # Meta-LoRA gizli katman

# LOGLama & RAPORLAMA
logging:
  print_every: 10              # Her X maÃ§ta durum yazdÄ±r
  save_every: 50               # Her X maÃ§ta modelleri kaydet
  evolution_log: true          # Evrim olaylarÄ±nÄ± logla
  detailed_predictions: false  # Her tahminin detayÄ±nÄ± yazdÄ±r mÄ±?

# DEVICE
device: "cuda"                 # "cuda" veya "cpu"
cuda_device_id: 0              # Hangi GPU (eÄŸer birden fazlaysa)

# FÄ°TNESS HESAPLAMA
fitness:
  # Fitness = accuracy_weight * accuracy + diversity_weight * diversity
  accuracy_weight: 0.6         # DoÄŸruluk aÄŸÄ±rlÄ±ÄŸÄ±
  diversity_weight: 0.4        # Ã‡eÅŸitlilik aÄŸÄ±rlÄ±ÄŸÄ±
  confidence_bonus: true       # Emin olup doÄŸru Ã§Ä±karsa bonus
  
# GELÄ°ÅMÄ°Å MEKANÄ°KLER
advanced_mechanics:
  # 1) Elit Direnci
  elite_resistance:
    enabled: true
    max_armor: 0.60              # Max %60 koruma
  
  # 2) SaÄŸ Kalan Sendromu
  survivor_guilt:
    enabled: true
    fitness_penalty_ratio: 0.30  # Armor Ã— 0.30
    trauma_gain_ratio: 0.50      # Armor Ã— 0.50
    temperament_changes:
      risk_appetite: 0.70        # Ã—0.70 (azalÄ±r)
      stress_tolerance: 0.80     # Ã—0.80 (azalÄ±r)
      impulsiveness: 0.75        # Ã—0.75 (azalÄ±r)
  
  # 3) Kan UyuÅŸmazlÄ±ÄŸÄ±
  anti_inbreeding:
    enabled: true
    similarity_threshold: 0.95   # %95 Ã¼stÃ¼ benzerlik engellenir
    mutant_birth_chance: 0.50    # %50 mutant, %50 iptal
  
  # 4) KÄ±ÅŸ Uykusu (KOLONÄ° MANTIÄI: Ã–lmez, uyur!)
  hibernation:
    enabled: true
    trigger_population: 30       # 30+ LoRA'da baÅŸlar (Ã§ok erken!)
    min_attention: 0.01          # %1 altÄ± uyur (Ã§ok dÃ¼ÅŸÃ¼k)
    fitness_range: [0.10, 0.60]  # ZayÄ±f + orta LoRA'lar uyur
    # UYUYANLAR DÄ°SKE YAZILIR, RAM'den Ã§Ä±kar, gerektiÄŸinde yÃ¼klenir
  
  # 5) Pozitif Geri Besleme Freni
  feedback_brake:
    enabled: true
    cooldown_matches: 20         # Her bÃ¼yÃ¼k olaydan sonra 20 maÃ§
    saturation_threshold: 3      # 20 maÃ§ta 3 olay = doygunluk
    energy_decay: 0.20           # Her 1.0 ÅŸiddet = %20 enerji kaybÄ±

# DOSYA YOLLARI
paths:
  base_model: "football_prediction_ensemble.joblib"
  label_encoder: "label_encoder.joblib"
  lora_population: "lora_population_state.pt"
  meta_lora: "meta_lora_state.pt"
  buffer: "replay_buffer.joblib"
  evolution_log: "evolution_log.json"
  results_csv: "evolutionary_results.csv"
# 3 TEMEL SÄ°STEM KONFÄ°GURASYONU
# ==============================

# 1. AKIÅKAN SOSYAL AÄ
social_network:
  enabled: true
  weights:
    prediction_similarity: 0.30  # Alpha
    success_correlation: 0.25    # Beta
    mentorship: 0.25             # Gamma
    complementary: 0.20          # Delta
  bond_decay_rate: 0.10          # Her etkileÅŸimde baÄŸ zayÄ±flamasÄ±

# 2. GELÄ°ÅMÄ°Å KATEGORÄ°ZASYON (ELEK SÄ°STEMÄ°)
categorization:
  enabled: true
  weights:
    success_rate: 0.30           # Alpha
    confidence: 0.25             # Beta
    recency: 0.20                # Gamma
    consistency: 0.15            # Delta
    entropy: 0.10                # Epsilon
  thresholds:
    perfect_hybrid: 0.75         # Hall of Fame giriÅŸ
    einstein_hall: 0.65          # Einstein Hall giriÅŸ

# 3. Ã–ÄRENEN DOÄA (RL)
adaptive_nature:
  enabled: true
  learning_rate: 0.1             # RL Ã¶ÄŸrenme hÄ±zÄ±
  discount_factor: 0.95          # Gelecek Ã¶dÃ¼l aÄŸÄ±rlÄ±ÄŸÄ± (Gamma)
  epsilon_start: 1.0             # KeÅŸif oranÄ± (baÅŸlangÄ±Ã§)
  epsilon_decay: 0.995           # KeÅŸif azalma hÄ±zÄ±

